(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{1869:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new-search",function(){return n(4641)}])},7944:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5893),i=n(1163),s=n(4117),o=(n(5265),n(5989)),a=n.n(o);var c=function(e){var t=(0,i.useRouter)();return(0,r.jsx)("li",{className:a().item,children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("div",{className:a().image,children:(0,r.jsx)("img",{src:e.image,alt:e.title})}),(0,r.jsxs)("div",{className:a().content,children:[(0,r.jsx)("h3",{children:e.title}),(0,r.jsx)("address",{children:e.address})]}),(0,r.jsxs)("div",{className:a().detailsFlex,children:[(0,r.jsxs)("div",{className:a().detailsFlexColumn,children:[(0,r.jsxs)("h6",{children:[(0,r.jsx)("span",{children:(0,r.jsx)("i",{className:"fas fa-map-marker-alt",style:{color:"#77002e"}})}),e.price]}),(0,r.jsxs)("h6",{children:[(0,r.jsx)("span",{children:(0,r.jsx)("i",{className:"fas fa-male",style:{color:"#77002e"}})}),e.tenant]})]}),(0,r.jsxs)("div",{className:a().detailsFlexColumn,children:[(0,r.jsxs)("h6",{children:[(0,r.jsx)("span",{children:(0,r.jsx)("i",{className:"fas fa-building",style:{color:"#77002e"}})}),e.apartment]}),(0,r.jsxs)("h6",{children:[(0,r.jsx)("span",{children:(0,r.jsx)("i",{className:"fas fa-tag",style:{color:"#77002e"}})}),"$",e.location]})]})]}),(0,r.jsx)("div",{className:a().actions,children:(0,r.jsx)("button",{onClick:function(){t.push("/"+e.id)},children:"Show Details"})})]})})},l=n(3864),u=n.n(l),d=n(7294);var p=function(e){return console.log(e),(0,r.jsx)(d.Fragment,{children:(0,r.jsx)("ul",{className:u().list,children:e.meetups.map((function(e){return(0,r.jsx)(c,{id:e.id,image:e.image,title:e.title,address:e.address,price:e.price,contact:e.contact,apartment:e.apartment,tenant:e.tenant,location:e.location,cooler:e.cooler,microwave:e.microwave,refrigerator:e.refrigerator,heater:e.heater,description:e.description},e.id)}))})})}},4117:function(e,t,n){"use strict";var r=n(5893),i=n(7849),s=n.n(i);t.Z=function(e){return(0,r.jsx)("div",{className:s().card,children:e.children})}},4641:function(e,t,n){"use strict";n.r(t);var r,i,s,o,a,c,l,u,d=n(5666),p=n.n(d),m=n(5893),h=n(7294),_=n(9008),f=n(7944),x=n(3864),g=n.n(x);function v(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){v(s,r,i,o,a,"next",e)}function a(e){v(s,r,i,o,a,"throw",e)}o(void 0)}))}}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N,y,M=[];t.default=function(e){var t=(0,h.useState)(!1),n=t[0],d=t[1];console.log(n),console.log(e);var x=[2e4,4e4,6e4,8e4];{console.log("inside window");var v=new URLSearchParams(window.location.search);r=v.getAll("priceArr"),s=v.getAll("tenantArr"),i=v.getAll("locArr"),o=v.getAll("aptArr"),console.log(r),console.log(s),console.log(i),console.log(o),a={price:{$in:w(i)}},c={tenant:{$in:w(s)}},l={apartment:{$in:w(o)}},console.log(a),console.log(c),console.log(l);var $=r.map((function(e){var t=x.find((function(t){return t>e}));return t?[+e,t]:[+e]}));function e(){return t.apply(this,arguments)}function t(){return(t=j(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/mongo-query",{method:"POST",body:JSON.stringify(N),headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:y=e.sent,console.log(y),d(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log($),$.forEach((function(e,t){console.log(e),e.length>1?M[t]={$and:[{$expr:{$gte:[{$toInt:"$location"},e[0]]}},{$expr:{$lte:[{$toInt:"$location"},e[1]]}}]}:M[t]={$expr:{$gte:[{$toInt:"$location"},8e4]}}})),u={$or:w(M)},console.log(u),N={$and:[u,a,c,l]},e()}return(0,m.jsxs)(h.Fragment,{children:[(0,m.jsxs)(_.default,{children:[(0,m.jsx)("title",{children:"Search Results"}),(0,m.jsx)("meta",{name:"description",content:"Add your own meetups and create amazing networking opportunities."}),(0,m.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"}),(0,m.jsx)("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"})]}),n&&(0,m.jsx)("div",{className:g().mDiv,children:(0,m.jsx)(f.Z,{meetups:y.result.map((function(e){return{title:e.title,address:e.address,image:e.image,price:e.price,contact:e.contact,apartment:e.apartment,tenant:e.tenant,location:e.location,cooler:e.cooler,microwave:e.microwave,refrigerator:e.refrigerator,heater:e.heater,description:e.description,id:e._id.toString()}}))})}),!n&&(0,m.jsx)("div",{className:g().mDiv,children:(0,m.jsx)("p",{children:"Searching...."})})]})}},5989:function(e){e.exports={item:"MeetupItem_item__pvgsv",detailsFlexColumn:"MeetupItem_detailsFlexColumn__9UXBM",detailsFlex:"MeetupItem_detailsFlex__e9CMR",image:"MeetupItem_image__0jYm_",content:"MeetupItem_content__fvTRB",actions:"MeetupItem_actions__IeeH4"}},3864:function(e){e.exports={list:"MeetupList_list__C2D8b",pDiv:"MeetupList_pDiv__4EEMm",mDiv:"MeetupList_mDiv__Ggz1A",mainDiv:"MeetupList_mainDiv__6WW2S",searchDiv:"MeetupList_searchDiv__wISHn",searchItem:"MeetupList_searchItem__nQNNi",indSpan:"MeetupList_indSpan__GoAIb",h3Span:"MeetupList_h3Span__901LP",h3Count:"MeetupList_h3Count__9_or5",switch:"MeetupList_switch__gfv9z",slider:"MeetupList_slider__lAODW",round:"MeetupList_round__Iypkg"}},7849:function(e){e.exports={card:"Card_card__73YTa"}},9008:function(e,t,n){e.exports=n(5443)},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[774,888,179],(function(){return t=1869,e(e.s=t);var t}));var t=e.O();_N_E=t}]);